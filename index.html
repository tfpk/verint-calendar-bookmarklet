<style>
 .close {
   color: #aaa;
   position: fixed;
   font-size: 28px;
   font-weight: bold;
 }

 .close:hover,
 .close:focus {
   color: black;
   text-decoration: none;
   cursor: pointer;
 }

 .table {
   display: flex;
   flex-direction: row;
   justify-content: space-between;
   height: 100%;
 }

 .column {
   flex: 1;
   padding: 10px;
   margin: 10px;
   border: 1px solid #888;
   min-width: 400px;
   height: 95%;
 }
 body {
   background: #eee;
   font-family: Arial, Helvetica, sans-serif;
   font-size: 20px;
 }

</style>

<span class="close" onclick="location.reload()">&times;</span>
<div class="table">
</div>
<script>

 (() => {
   let vcb_data = JSON.parse(window.localStorage.getItem('vcb_data'));
   console.log(vcb_data);
   let day_columns = {};
   vcb_data.forEach((item) => {
     let date = new Date(item.start);
     let day = date.toDateString();
     if (!day_columns[day]) {
       // create a div with class column
       let div = document.createElement('div');
       div.classList.add('column');
       // put an h3 inside
       let h3 = document.createElement('h3');
       h3.textContent = day;
       div.appendChild(h3);
       // put a ul inside
       let ul = document.createElement('ul');
       div.appendChild(ul);
       day_columns[day] = div;
     }

     let li = document.createElement('li');
     li.innerHTML = `<b>${item.start} to ${item.end}</b>: ${item.name} (${item.location})`;
     day_columns[day].appendChild(li);

   });

   // go through the sorted list of day_column properties
   let sorted_days = Object.keys(day_columns).sort();
   sorted_days.forEach((day) => {
     let table = document.querySelector('.table');
      table.appendChild(day_columns[day]);
    });
 })()

  document.body.addEventListener("wheel", (evt) => {
    evt.preventDefault();
    document.body.scrollLeft += evt.deltaY;
  });
</script>
